package shaders
//kage:unit pixels

var CellSize float
var LineWidth float
var LineColor vec4
var Offset float

func Fragment(pos vec4, _uv vec2, _col vec4) vec4 {
    local := pos.yx - Offset

    if local.x <= LineWidth || local.y <= LineWidth {
        return vec4(0)
    }

    fx := mod(local.x, CellSize)
    fy := mod(local.y, CellSize)

    if fx < LineWidth || fy < LineWidth {
        return LineColor
    }

    return vec4(0)
}
